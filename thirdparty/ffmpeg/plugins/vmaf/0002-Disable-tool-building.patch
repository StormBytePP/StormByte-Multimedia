From 96eea35e9c78ce232e50ef7f9f104d5e076abd65 Mon Sep 17 00:00:00 2001
From: "David C. Manuelda" <StormByte@gmail.com>
Date: Sat, 3 Jan 2026 02:10:13 +0100
Subject: [PATCH] Disable tool building

---
 libvmaf/meson_options.txt | 5 +++++
 libvmaf/tools/meson.build | 4 ++++
 2 files changed, 9 insertions(+)

diff --git a/libvmaf/meson_options.txt b/libvmaf/meson_options.txt
index b5011831..69dc53f8 100644
--- a/libvmaf/meson_options.txt
+++ b/libvmaf/meson_options.txt
@@ -8,6 +8,11 @@ option('enable_docs',
     value: true,
     description: 'Build libvmaf documentation')
 
+option('enable_tools',
+    type: 'boolean',
+    value: true,
+    description: 'Build libvmaf tools')
+
 option('enable_asm',
     type: 'boolean',
     value: true,
diff --git a/libvmaf/tools/meson.build b/libvmaf/tools/meson.build
index b98300cc..20115aa0 100644
--- a/libvmaf/tools/meson.build
+++ b/libvmaf/tools/meson.build
@@ -1,3 +1,7 @@
+if not get_option('enable_tools')
+    subdir_done()
+endif
+
 compat_cflags = []
 if cc.has_function('strsep')
   compat_cflags += '-DHAVE_STRSEP'
-- 
2.52.0

